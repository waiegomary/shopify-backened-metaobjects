{
  "version": 3,
  "sources": ["../../../app/components/Form/Fields/TagSearchField.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/Form/Fields/TagSearchField.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/Form/Fields/TagSearchField.tsx\");\n  import.meta.hot.lastModified = \"1709719980702.6868\";\n}\n// REMIX HMR END\n\nimport { LegacyStack, Tag, Autocomplete } from \"@shopify/polaris\";\nimport { useState, useCallback, useMemo } from \"react\";\nimport { find, map } from \"~/utils\";\nconst validateOption = options => {\n  return map(options, option => ({\n    label: option?.label || option?.name,\n    value: option?.value || option?.id\n  })) || [];\n};\nfunction TagSearchField({\n  options: _options,\n  selectedOptions: _selected,\n  placeholder = \"Search collections...\",\n  handleChangeCollection,\n  label\n}) {\n  _s();\n  const deselectedOptions = useMemo(() => validateOption(_options) || [], [_options]);\n  const [selectedOptions, setSelectedOptions] = useState(map(validateOption(_selected), it => it.value));\n  const handleSetSelection = useCallback(e => {\n    setSelectedOptions(e);\n    const _collections = [];\n    map(e, id => {\n      const col = find(validateOption(_options), {\n        value: id\n      });\n      if (col) {\n        _collections.push(col);\n      }\n    });\n    handleChangeCollection(_collections);\n  }, []);\n  const [inputValue, setInputValue] = useState(\"\");\n  const [options, setOptions] = useState(deselectedOptions);\n  const updateText = useCallback(value => {\n    setInputValue(value);\n    if (value === \"\") {\n      setOptions(deselectedOptions);\n      return;\n    }\n    const filterRegex = new RegExp(value, \"i\");\n    const resultOptions = deselectedOptions?.filter(option => option?.label?.match(filterRegex));\n    setOptions(resultOptions);\n  }, [deselectedOptions]);\n  const removeTag = useCallback(tag => () => {\n    const options = [...selectedOptions];\n    options.splice(options?.indexOf(tag), 1);\n    setSelectedOptions(options);\n    handleChangeCollection(options);\n  }, [selectedOptions]);\n  const verticalContentMarkup = selectedOptions.length > 0 ? <LegacyStack spacing=\"extraTight\" alignment=\"center\">\n        {selectedOptions?.map(option => {\n      let tagLabel = \"\";\n      tagLabel = option?.replace(\"_\", \" \");\n      tagLabel = titleCase(tagLabel);\n      let item = find(deselectedOptions, {\n        value: option\n      });\n      if (item) {\n        tagLabel = item?.label;\n      }\n      if (selectedOptions?.includes(tagLabel)) {\n        return null;\n      }\n      return <Tag key={`option${option}`} onRemove={removeTag(option)}>\n              {tagLabel}\n            </Tag>;\n    })}\n      </LegacyStack> : null;\n  const textField = <Autocomplete.TextField onChange={updateText} label={label} value={inputValue} placeholder={placeholder} verticalContent={verticalContentMarkup} autoComplete=\"off\" />;\n  return <div style={{\n    height: \"100%\"\n  }}>\n      <Autocomplete allowMultiple options={options} selected={selectedOptions} textField={textField} onSelect={handleSetSelection} listTitle=\"Suggested collections\" />\n    </div>;\n  function titleCase(string) {\n    return string?.toLowerCase()?.split(\" \")?.map(word => word?.replace(word[0], word[0]?.toUpperCase())).join(\"\");\n  }\n}\n_s(TagSearchField, \"pcGjBZd3CY1l9qKlYfrCgiJS2QM=\");\n_c = TagSearchField;\nexport default TagSearchField;\nvar _c;\n$RefreshReg$(_c, \"TagSearchField\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["options", "_a"]
}
