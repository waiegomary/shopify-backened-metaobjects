{
  "version": 3,
  "sources": ["../../../app/routes/app.site-maps.tsx", "../../../app/components/Tables/SiteMapMetaObjects.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/app.site-maps.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/app.site-maps.tsx\");\n  import.meta.hot.lastModified = \"1713578110848.5088\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useFetcher, useLoaderData } from \"@remix-run/react\";\nimport { Layout, Page, VerticalStack } from \"@shopify/polaris\";\nimport * as _ from \"lodash\";\nimport { useEffect, useState } from \"react\";\nimport { authenticate } from \"~/shopify.server\";\nimport PageLoader from \"~/components/Loaders/PageLoader\";\nimport SiteMapMetaObjects from \"~/components/Tables/SiteMapMetaObjects\";\nexport async function loader({\n  request,\n  params\n}) {\n  const {\n    admin,\n    session\n  } = await authenticate.admin(request);\n  return json({\n    type: \"site_map\",\n    graphql: admin.graphql\n  });\n}\nexport default function MetaobjectsPage() {\n  _s();\n  const {\n    type\n  } = useLoaderData();\n  const [edges, setEdges] = useState([]);\n  const [pageInfo, setPageInfo] = useState({});\n  const fetcher = useFetcher();\n  const [loading, setLoading] = useState(fetcher.state === \"loading\");\n  const [pageLoading, setPageLoading] = useState(true);\n  const onSearch = async data => {\n    fetcher.load(`/app/search-metaobjects/${type}?query=${_.get(data, \"query\")}&after=${_.get(data, \"after\")}&before=${_.get(data, \"before\")}`);\n  };\n  useEffect(() => {\n    if (fetcher.state === \"loading\") {\n      setLoading(true);\n    } else {\n      setLoading(false);\n    }\n    if (fetcher.data) {\n      setEdges(_.get(fetcher.data, \"data.metaobjects.edges\", []));\n      setPageInfo(_.get(fetcher.data, \"data.metaobjects.pageInfo\", {}));\n    }\n  }, [fetcher]);\n  useEffect(() => {\n    if (fetcher.state !== \"loading\" && pageLoading) {\n      setPageLoading(false);\n    }\n  }, [fetcher.state]);\n  useEffect(() => {\n    if (!fetcher.data) {\n      setPageLoading(true);\n      onSearch({});\n    }\n  }, []);\n  return <Page backAction={{\n    content: \"Products\",\n    url: \"/app\"\n  }} title={\"Sites\"} subtitle=\"\" compactTitle>\n      <Layout>\n        <Layout.Section>\n          {pageLoading ? <PageLoader /> : null}\n          {!pageLoading ? <VerticalStack gap=\"3\">\n              <SiteMapMetaObjects edges={edges} pageInfo={pageInfo} type={type} onSearch={onSearch} loading={loading} />\n            </VerticalStack> : null}\n        </Layout.Section>\n      </Layout>\n    </Page>;\n}\n_s(MetaobjectsPage, \"iRitMK1sE3JJ0dpBbuXtvOB4AFc=\", false, function () {\n  return [useLoaderData, useFetcher];\n});\n_c = MetaobjectsPage;\nvar _c;\n$RefreshReg$(_c, \"MetaobjectsPage\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;", "// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/components/Tables/SiteMapMetaObjects.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/components/Tables/SiteMapMetaObjects.tsx\");\n  import.meta.hot.lastModified = \"1713578110841.1865\";\n}\n// REMIX HMR END\n\nimport { Link, useNavigate } from \"@remix-run/react\";\nimport { IndexTable, LegacyCard, Text, Badge, Pagination, VerticalStack, HorizontalGrid, IndexFilters, useSetIndexFiltersMode } from \"@shopify/polaris\";\nimport { dateFormatter, truncate } from \"~/utils\";\nimport Loader from \"../Loaders\";\nimport { useCallback, useEffect, useState } from \"react\";\nconst SiteMapMetaObjects = ({\n  edges,\n  pageInfo,\n  type,\n  onSearch,\n  loading: isLoading\n}) => {\n  _s();\n  const navigate = useNavigate();\n  const resourceName = {\n    singular: \"site\",\n    plural: \"sites\"\n  };\n  const [loading, setLoading] = useState(false);\n  const handleNavigation = next => {\n    let rest = {};\n    setLoading(true);\n    if (next) {\n      rest[\"after\"] = pageInfo.endCursor;\n    } else {\n      rest[\"before\"] = pageInfo.startCursor;\n    }\n    if (queryValue !== undefined && queryValue !== null) {\n      rest[\"query\"] = queryValue;\n    }\n    onSearch(rest);\n  };\n  const [queryValue, setQueryValue] = useState(null);\n  const handleFiltersQueryChange = useCallback(value => setQueryValue(value), []);\n  useEffect(() => {\n    if (queryValue !== undefined && queryValue !== null) {\n      onSearch({\n        query: queryValue\n      });\n    }\n  }, [queryValue]);\n  const [selected] = useState(0);\n  const onHandleCancel = () => {};\n  const {\n    mode,\n    setMode\n  } = useSetIndexFiltersMode();\n  useEffect(() => {\n    setLoading(false);\n  }, [edges]);\n  const rowMarkup = edges.map(({\n    node: {\n      id,\n      definition,\n      capabilities,\n      displayName,\n      handle,\n      type,\n      updatedAt\n    }\n  }, index) => <IndexTable.Row onNavigation={() => {}} id={id} key={id} position={index}>\n        <IndexTable.Cell>\n          <Text variant=\"bodyMd\" as=\"span\">\n            <Link to={`/app/site-map/${handle}`}>{truncate(displayName)}</Link>\n          </Text>\n        </IndexTable.Cell>\n        <IndexTable.Cell>{definition.name}</IndexTable.Cell>\n        <IndexTable.Cell>{definition.access.storefront}</IndexTable.Cell>\n\n        <IndexTable.Cell>\n          <Badge size=\"small\">{capabilities.publishable.status}</Badge>\n        </IndexTable.Cell>\n        <IndexTable.Cell>{dateFormatter(updatedAt)}</IndexTable.Cell>\n      </IndexTable.Row>);\n  return <LegacyCard>\n      {loading || isLoading ? <Loader /> : null}\n      <VerticalStack>\n        <IndexFilters selected={selected} filters={[]} onClearAll={() => {}} cancelAction={{\n        onAction: onHandleCancel,\n        disabled: false,\n        loading: false\n      }} tabs={[]} queryValue={queryValue || \"\"} queryPlaceholder=\"Search ...\" onQueryChange={handleFiltersQueryChange} onQueryClear={() => {\n        setQueryValue(\"\");\n      }} mode={mode} setMode={setMode} hideFilters />\n        <IndexTable resourceName={resourceName} itemCount={edges.length} selectable={false} headings={[{\n        title: \"Display Name\"\n      }, {\n        title: \"Definition\"\n      }, {\n        title: \"Storefront access\"\n      }, {\n        title: \"Status\"\n      }, {\n        title: \"Last updated\"\n      }]}>\n          {rowMarkup}\n        </IndexTable>\n        <HorizontalGrid>\n          <div className=\"grid-container\">\n            <div className=\"pagination-wrapper\" style={{\n            display: \"flex\",\n            width: \"100%\",\n            justifyContent: \"center\",\n            padding: 20\n          }}>\n              <Pagination hasPrevious={pageInfo.hasPreviousPage} onPrevious={() => {\n              handleNavigation(false);\n            }} hasNext={pageInfo.hasNextPage} onNext={() => {\n              handleNavigation(true);\n            }} />\n            </div>\n          </div>\n        </HorizontalGrid>\n      </VerticalStack>\n    </LegacyCard>;\n};\n_s(SiteMapMetaObjects, \"SnZl4qOGazheYiX33WnSXPTvQN0=\", false, function () {\n  return [useNavigate, useSetIndexFiltersMode];\n});\n_c = SiteMapMetaObjects;\nexport default SiteMapMetaObjects;\nvar _c;\n$RefreshReg$(_c, \"SiteMapMetaObjects\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": ["init_esm", "import_react", "init_esm", "import_react", "type", "import_jsx_dev_runtime", "_s", "_s", "_c"]
}
