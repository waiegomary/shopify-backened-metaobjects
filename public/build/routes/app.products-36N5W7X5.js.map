{
  "version": 3,
  "sources": ["../../../app/routes/app.products.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app/routes/app.products.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app/routes/app.products.tsx\");\n  import.meta.hot.lastModified = \"1709719980724.8606\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useFetcher, useLoaderData } from \"@remix-run/react\";\nimport { Layout, Page, VerticalStack } from \"@shopify/polaris\";\nimport * as _ from \"lodash\";\nimport { useEffect, useState } from \"react\";\nimport PageLoader from \"~/components/Loaders/PageLoader\";\nimport Products from \"~/components/Tables/Products\";\nexport async function loader({\n  request,\n  params\n}) {\n  return json({\n    type: params.type\n  });\n}\nexport default function ProductsPage() {\n  _s();\n  const {\n    definitionType,\n    type\n  } = useLoaderData();\n  const [edges, setEdges] = useState([]);\n  const [pageInfo, setPageInfo] = useState({});\n  const fetcher = useFetcher();\n  const [loading, setLoading] = useState(fetcher.state === \"loading\");\n  const [pageLoading, setPageLoading] = useState(true);\n  useEffect(() => {\n    if (fetcher.state !== \"loading\" && pageLoading) {\n      setPageLoading(false);\n    }\n  }, [fetcher.state]);\n  const handleFetch = async data => {\n    fetcher.load(`/app/search-products/?query=${_.get(data, \"query\")}&after=${_.get(data, \"after\", null)}&before=${_.get(data, \"before\", null)}`);\n  };\n  useEffect(() => {\n    if (!fetcher.data) {\n      setPageLoading(true);\n      handleFetch({});\n    }\n  }, []);\n  useEffect(() => {\n    if (fetcher.state === \"loading\") {\n      setLoading(true);\n    } else {\n      setLoading(false);\n    }\n    if (fetcher.data) {\n      setEdges(_.get(fetcher.data, \"data.products.edges\", []));\n      setPageInfo(_.get(fetcher.data, \"data.products.pageInfo\", {}));\n    }\n  }, [fetcher]);\n  return <Page backAction={{\n    content: \"Products\",\n    url: \"/app\"\n  }} title={'Products'} subtitle=\"\" compactTitle>\n      <Layout>\n        <Layout.Section>\n          <VerticalStack gap=\"3\">\n            {pageLoading ? <PageLoader /> : null}\n            {!pageLoading ? <Products edges={edges} pageInfo={pageInfo} type={type} onSearch={handleFetch} loading={loading} /> : null}\n          </VerticalStack>\n        </Layout.Section>\n      </Layout>\n    </Page>;\n}\n_s(ProductsPage, \"hw0ZAz5gox+37VY09xIX5/4lTOI=\", false, function () {\n  return [useLoaderData, useFetcher];\n});\n_c = ProductsPage;\nvar _c;\n$RefreshReg$(_c, \"ProductsPage\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAYA;AASA,kBAAqB;AACrB;AACAA;AACA,QAAmB;AACnB,IAAAC,gBAAoC;AAsDT;AA9E3B,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,kCAAoC,EAAE;AAAA,EAC/E;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMN,IAAI,KAAK,aAAa;AAEtB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA6B;AAC7B,cAAY,IAAI,eAAe;AACjC;AAkBe,SAAR,eAAgC;AACrC,KAAG;AACH,QAAM;AAAA,IACJ;AAAA,IACA;AAAA,EACF,IAAI,cAAc;AAClB,QAAM,CAAC,OAAO,QAAQ,QAAI,wBAAS,CAAC,CAAC;AACrC,QAAM,CAAC,UAAU,WAAW,QAAI,wBAAS,CAAC,CAAC;AAC3C,QAAM,UAAU,WAAW;AAC3B,QAAM,CAAC,SAAS,UAAU,QAAI,wBAAS,QAAQ,UAAU,SAAS;AAClE,QAAM,CAAC,aAAa,cAAc,QAAI,wBAAS,IAAI;AACnD,+BAAU,MAAM;AACd,QAAI,QAAQ,UAAU,aAAa,aAAa;AAC9C,qBAAe,KAAK;AAAA,IACtB;AAAA,EACF,GAAG,CAAC,QAAQ,KAAK,CAAC;AAClB,QAAM,cAAc,OAAM,SAAQ;AAChC,YAAQ,KAAK,+BAAiC,MAAI,MAAM,OAAO,WAAa,MAAI,MAAM,SAAS,IAAI,YAAc,MAAI,MAAM,UAAU,IAAI,GAAG;AAAA,EAC9I;AACA,+BAAU,MAAM;AACd,QAAI,CAAC,QAAQ,MAAM;AACjB,qBAAe,IAAI;AACnB,kBAAY,CAAC,CAAC;AAAA,IAChB;AAAA,EACF,GAAG,CAAC,CAAC;AACL,+BAAU,MAAM;AACd,QAAI,QAAQ,UAAU,WAAW;AAC/B,iBAAW,IAAI;AAAA,IACjB,OAAO;AACL,iBAAW,KAAK;AAAA,IAClB;AACA,QAAI,QAAQ,MAAM;AAChB,eAAW,MAAI,QAAQ,MAAM,uBAAuB,CAAC,CAAC,CAAC;AACvD,kBAAc,MAAI,QAAQ,MAAM,0BAA0B,CAAC,CAAC,CAAC;AAAA,IAC/D;AAAA,EACF,GAAG,CAAC,OAAO,CAAC;AACZ,SAAO,mDAAC,QAAK,YAAY;AAAA,IACvB,SAAS;AAAA,IACT,KAAK;AAAA,EACP,GAAG,OAAO,YAAY,UAAS,IAAG,cAAY,MAC1C,6DAAC,UACC,6DAAC,OAAO,SAAP,EACC,6DAAC,iBAAc,KAAI,KAChB;AAAA,kBAAc,mDAAC,wBAAD;AAAA;AAAA;AAAA;AAAA,WAAY,IAAK;AAAA,IAC/B,CAAC,cAAc,mDAAC,oBAAS,OAAc,UAAoB,MAAY,UAAU,aAAa,WAA/E;AAAA;AAAA;AAAA;AAAA,WAAiG,IAAK;AAAA,OAFxH;AAAA;AAAA;AAAA;AAAA,SAGA,KAJF;AAAA;AAAA;AAAA;AAAA,SAKA,KANF;AAAA;AAAA;AAAA;AAAA,SAOA,KAXG;AAAA;AAAA;AAAA;AAAA,SAYL;AACJ;AACA,GAAG,cAAc,gCAAgC,OAAO,WAAY;AAClE,SAAO,CAAC,eAAe,UAAU;AACnC,CAAC;AACD,KAAK;AACL,IAAI;AACJ,aAAa,IAAI,cAAc;AAE/B,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["init_esm", "import_react"]
}
